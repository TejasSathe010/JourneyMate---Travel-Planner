<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planned Trips</title>
    <link rel="stylesheet" href="./css/style.css">
    <style>
        .container {
            width: 90%;
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }

        .trip-tile {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: box-shadow 0.3s;
        }

            .trip-tile:hover {
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            }
    </style>
</head>

<body>
    <nav class="navbar">
        <div class="navbar-logo">JourneyMate</div>
        <ul class="navbar-links">
            <li><a href="../index.html">Home</a></li>
            <li><a href="./trip-list.html">Trips</a></li>
            <li><a href="../about.html">About Us</a></li>
        </ul>
        <div class="navbar-toggle">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </nav>

    <div class="container">
        <header>
            <h1>Your Planned Trips</h1>
            <p class="subtitle">Click on a trip to view details</p>
        </header>

        <div id="trip-list">
            <a href="../trip-detail/trip-detail.html" class="trip-link">
                <div class="trip-card">
                    <div class="trip-title">
                        <h3>Trip to Barcelona</h3>
                    </div>
                    <div class="trip-details">
                        <div class="detail-item"><strong>Source:</strong> Tampa</div>
                        <div class="detail-item"><strong>Destination:</strong> Barcelona</div>
                        <div class="detail-item"><strong>Start Date:</strong> November 15, 2024</div>
                        <div class="detail-item"><strong>End Date:</strong> November 20, 2024</div>
                    </div>
                </div>
            </a>

        </div>

        <div id="trip-list">
            <a href="../trip-detail/trip-detail-jp.html" class="trip-link">
                <div class="trip-card">
                    <div class="trip-title">
                        <h3>Trip to Japan</h3>
                    </div>
                    <div class="trip-details">
                        <div class="detail-item"><strong>Source:</strong> Tampa</div>
                        <div class="detail-item"><strong>Destination:</strong> Tokyo</div>
                        <div class="detail-item"><strong>Start Date:</strong> November 15, 2025</div>
                        <div class="detail-item"><strong>End Date:</strong> November 20, 2025</div>
                    </div>
                </div>
            </a>

        </div>
        <div class="button-container" style="margin-top: 20px;">
            <button class="back-btn" onclick="window.location.href='../index.html'">Back to Home</button>
            <button class="add-trip-btn" onclick="window.location.href='../create-trip/create-trip.html'">Plan New Trip</button>
        </div>
    </div>

    <script>
        // Load trips from localStorage
        function loadTrips() {
            const trips = JSON.parse(localStorage.getItem("tripData")) || [];
            const tripList = document.getElementById("trip-list");

            trips.forEach((trip, index) => {
                const tripTile = document.createElement("div");
                tripTile.classList.add("trip-tile");
                tripTile.innerHTML = `<h2>${trip.tripName}</h2>`;
                tripTile.onclick = () => viewTripDetails(index); // Pass index to identify trip
                tripList.appendChild(tripTile);
            });
        }

        // Navigate to trip details page
        function viewTripDetails(tripIndex) {
            window.location.href = `../trip-detail/trip-detail.html?index=${tripIndex}`;
        }

        // Call loadTrips on page load
        loadTrips();
    </script>
</body>

</html>
